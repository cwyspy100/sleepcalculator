# 睡眠计算器

一个基于科学研究的睡眠时间计算工具，帮助您找到最佳的睡眠和起床时间。

## 🌙 功能特点

### 核心功能
- **就寝时间计算**: 根据目标起床时间计算最佳就寝时间
- **起床时间计算**: 根据当前时间计算最佳起床时间
- **多选项推荐**: 提供6小时、7.5小时、9小时三种睡眠时长选择
- **实时时间显示**: 动态显示当前时间
- **多语言支持**: 支持中文和英文，可随时切换

### 科学依据
- 基于90分钟睡眠周期理论
- 考虑15分钟平均入睡时间
- 推荐5-6个完整睡眠周期
- 参考美国睡眠医学学会建议

### 用户体验
- 现代化响应式设计
- 直观的标签页切换
- 快速时间选择按钮
- 平滑动画效果
- 移动设备友好
- 多语言界面切换

## 🌍 多语言支持

### 支持的语言
- **English**: 默认语言
- **中文 (简体)**: 中文界面

### 语言切换功能
- 点击右上角的语言切换按钮
- 支持键盘快捷键 `Ctrl + L` 快速切换
- 自动保存用户语言偏好
- 页面刷新后保持选择的语言
- 智能检测浏览器语言设置

### 本地化特性
- 完整的界面文本翻译
- 时间格式本地化
- 错误提示信息本地化
- 页面标题和元数据本地化
- 浏览器语言自动检测

## 🚀 快速开始

1. 下载项目文件
2. 在浏览器中打开 `index.html`
3. 开始使用睡眠计算器（默认英文界面）
4. 点击语言切换按钮体验多语言功能

## 📱 使用方法

### 计算就寝时间
1. 选择"Calculate Bedtime"标签
2. 设置目标起床时间（可使用快速按钮）
3. 点击"Calculate Bedtime"按钮
4. 查看推荐的三个就寝时间选项

### 计算起床时间
1. 选择"Calculate Wake-up Time"标签
2. 查看当前时间
3. 点击"Calculate Wake-up Time"按钮
4. 查看推荐的三个起床时间选项

### 切换语言
1. 点击右上角的语言切换按钮
2. 选择您偏好的语言
3. 界面将立即切换到选择的语言

## 🎨 界面特色

- **渐变背景**: 紫色渐变背景营造宁静氛围
- **毛玻璃效果**: 半透明卡片设计
- **响应式布局**: 适配各种屏幕尺寸
- **交互动画**: 悬停和点击动画效果
- **现代字体**: 使用Inter字体提升可读性
- **语言切换器**: 优雅的语言切换界面

## 🔧 技术实现

### 前端技术
- **HTML5**: 语义化标签结构
- **CSS3**: 现代样式和动画
- **JavaScript ES6+**: 面向对象编程
- **响应式设计**: 移动优先设计理念

### 多语言实现
- **JSON翻译文件**: 结构化的翻译数据
- **动态内容更新**: 实时切换界面语言
- **本地存储**: 保存用户语言偏好
- **键盘快捷键**: 快速语言切换
- **浏览器语言检测**: 自动识别用户语言偏好
- **错误处理**: 完善的错误处理和回退机制

### 核心算法
```javascript
// 睡眠周期计算
const sleepCycleMinutes = 90;
const fallAsleepMinutes = 15;
const optimalSleepHours = 7.5;

// 计算最佳就寝时间
const totalSleepMinutes = optimalSleepHours * 60 + fallAsleepMinutes;
const bedtime = wakeupTime - totalSleepMinutes;
```

### 多语言架构
```javascript
// 翻译文件结构
{
  "title": "页面标题",
  "tabs": {
    "bedtime": "计算就寝时间"
  }
}

// 语言切换逻辑
class I18n {
  switchLanguage(lang) {
    this.currentLang = lang;
    this.updatePageLanguage();
    localStorage.setItem('preferredLanguage', lang);
  }
}
```

### 浏览器兼容性
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 📊 睡眠科学

### 睡眠周期
人类睡眠由多个90分钟的周期组成，每个周期包括：
- **浅睡阶段**: 身体放松
- **深睡阶段**: 身体恢复
- **REM睡眠**: 大脑活跃，做梦

### 推荐睡眠时长
根据年龄组别：
- 成年人: 7-9小时
- 青少年: 8-10小时
- 儿童: 9-12小时

### 最佳起床时机
在睡眠周期结束时醒来，会感觉更加清醒和精力充沛。

## 🎯 使用建议

1. **保持规律**: 尽量每天在同一时间睡觉和起床
2. **避免熬夜**: 避免在推荐时间后超过1小时睡觉
3. **环境优化**: 保持卧室安静、黑暗、凉爽
4. **睡前习惯**: 避免使用电子设备，可以阅读或冥想

## ⌨️ 键盘快捷键

- **Enter**: 执行计算
- **Ctrl + Tab**: 切换标签页
- **Ctrl + L**: 切换语言

## 📝 更新日志

### v1.2.0 (2024-01-01)
- 修复语言切换问题
- 将默认语言改为英文
- 添加浏览器语言自动检测
- 改进错误处理和回退机制
- 优化初始化流程

### v1.1.0 (2024-01-01)
- 添加多语言支持（中文/英文）
- 语言切换器界面
- 本地存储语言偏好
- 键盘快捷键支持

### v1.0.0 (2024-01-01)
- 初始版本发布
- 基本睡眠计算功能
- 响应式设计
- 现代化界面

## 🤝 贡献

欢迎提交问题报告和功能建议！

### 添加新语言
1. 在 `locales/` 目录下创建新的语言文件（如 `fr.json`）
2. 翻译所有界面文本
3. 在HTML中添加语言切换按钮
4. 更新JavaScript中的语言支持

## 📄 许可证

MIT License - 详见 LICENSE 文件

## 🔗 相关链接

- [美国睡眠医学学会](https://aasm.org/)
- [国家睡眠基金会](https://www.sleepfoundation.org/)
- [睡眠研究](https://www.ninds.nih.gov/health-information/patient-caregiver-education/brain-basics-understanding-sleep)
- [多语言网站最佳实践](https://www.smartling.com/blog/10-tips-for-building-a-multilingual-website-examples/)
- [WPML语言切换器问题解决方案](https://wpml.org/forums/topic/language-switcher-doesnt-work-on-homepage/)

---

**免责声明**: 本工具仅供参考，不能替代专业医疗建议。如有睡眠问题，请咨询医生。 